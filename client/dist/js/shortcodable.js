(()=>{var e,t={305:()=>{var e;e=jQuery,shortcodable={controller_url:"admin/shortcodable",init:function(){e("body").on("change","select.shortcode-type",(function(){e.post(shortcodable.controller_url,e(this).parents("form").serializeArray(),(function(t){simpler.modal.bodyHtml=e("#xhr_buffer").html(t).html()}))})),e("body").on("submit","#Form_ShortcodeForm",(function(e){return e.preventDefault(),shortcodable.insertShortcode(),simpler.modal.show=!1,!1}))},openDialog:function(){simpler.modal.show=!0,simpler.modal.title="Insert/edit shortcode",simpler.modal.closeBtn=!1,simpler.modal.closeTxt="Close",simpler.modal.saveBtn=!1,simpler.modal.saveTxt="Insert shortcode",simpler.modal.bodyHtml=simpler.spinner,console.log(shortcodable.getCurrentEditorSelectionAsParsedShortcodeData()),e.post(shortcodable.controller_url,shortcodable.getCurrentEditorSelectionAsParsedShortcodeData(),(function(t){simpler.modal.bodyHtml=e("#xhr_buffer").html(t).html()}))},insertShortcode:function(){var t=e("#Form_ShortcodeForm").serializeArray(),o=["..."];e.each(t,(function(e,t){"SecurityID"!==t.name&&("ShortcodeType"===t.name?o[0]=t.value:o.push("".concat(t.name,'="').concat(t.value,'"')))}));var r="[".concat(o.join(" "),"]");r.length&&(tinyMCE.activeEditor.selection.setContent(r),tinyMCE.activeEditor.undoManager.add())},getCurrentEditorSelectionAsParsedShortcodeData:function(){if(!tinyMCE.activeEditor.selection.isCollapsed()){var t=tinymce.activeEditor.selection.getContent().trim();if(console.log("78: "+t),t=shortcodable.placeholdersToShortcodes(t,tinyMCE.activeEditor),console.log("81: "+t),!(t.length<=2||"["!==t.charAt(0)||"]"!==t.slice(-1))){var o={ShortcodeType:t.slice(1,-1).split(" ").shift()};return e.each(e("<".concat(t.slice(1,-1)," />")).get(0).attributes,(function(e,t){o[t.name]=t.value})),console.log("94: ",o),o}console.log("85: returning")}},parseAttributeValue:function(e,t){var o=new RegExp(t+'="([^"]+)"',"g").exec(e);return o?tinymce.DOM.decode(o[1]):""},shortcodesToPlaceholders:function(t,o){var r=e(o.targetElm).data("shortcodableplaceholdercodes");return r?t.replace(/\[([a-z_]+)\s*([^\]]*)\]/gi,(function(e,t,o){if(-1!==r.indexOf(t)){var l=shortcodable.parseAttributeValue(o,"id"),n=encodeURI(shortcodable.controller_url+"/placeholder/"+t+"/"+l+"?sc=["+t+" "+o+"]");return jQuery("<img/>").attr("class","sc-placeholder mceItem mceNonEditable").attr("title",t+" "+o).attr("src",n).prop("outerHTML")}return e})):t},placeholdersToShortcodes:function(e,t){var o=jQuery("<div>"+e+"</div>");return o.find(".sc-placeholder").each((function(){var e=jQuery(this);e.replaceWith("["+tinymce.trim(e.attr("title"))+"]")})),o.html()}}},355:()=>{}},o={};function r(e){var l=o[e];if(void 0!==l)return l.exports;var n=o[e]={exports:{}};return t[e](n,n.exports,r),n.exports}r.m=t,e=[],r.O=(t,o,l,n)=>{if(!o){var a=1/0;for(s=0;s<e.length;s++){for(var[o,l,n]=e[s],c=!0,i=0;i<o.length;i++)(!1&n||a>=n)&&Object.keys(r.O).every((e=>r.O[e](o[i])))?o.splice(i--,1):(c=!1,n<a&&(a=n));c&&(e.splice(s--,1),t=l())}return t}n=n||0;for(var s=e.length;s>0&&e[s-1][2]>n;s--)e[s]=e[s-1];e[s]=[o,l,n]},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={995:0,454:0};r.O.j=t=>0===e[t];var t=(t,o)=>{var l,n,[a,c,i]=o,s=0;for(l in c)r.o(c,l)&&(r.m[l]=c[l]);if(i)var d=i(r);for(t&&t(o);s<a.length;s++)n=a[s],r.o(e,n)&&e[n]&&e[n][0](),e[a[s]]=0;return r.O(d)},o=self.webpackChunkbase_package_json=self.webpackChunkbase_package_json||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})(),r.O(void 0,[454],(()=>r(305)));var l=r.O(void 0,[454],(()=>r(355)));l=r.O(l)})();